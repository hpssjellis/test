<!DOCTYPE html>
<html>

<body>

    <img id="myImage01" src="mainsheet03.png" width="2000px"  height="800px  style="position:absolute; left:0; top:0;  ">

    <canvas id="myCanvas" width="2000px"  height="800px "style="border:1px solid black;  position:absolute; left:0; top:0;"></canvas>

<script>
    // Define your variables with "my" prefix
    let myCanvas = document.getElementById("myCanvas");
    let ctx = myCanvas.getContext("2d");
    let dotX = 200;
    let myY = 200
    let myChangeX = 50
    let mySong;
    let myNormal = true

    async function moveDot() {
        // Clear the canvas
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);

        /*
        // Draw the horizontal line
        ctx.beginPath();
        ctx.moveTo(0, myCanvas.height / 2);
        ctx.lineTo(myCanvas.width, myCanvas.height / 2);
        ctx.strokeStyle = "red";
        ctx.stroke();
        ctx.closePath();

        */

        for (myLoop=0; myLoop <= mySong.length; myLoop++){

             console.log(myLoop)
            
        }

        // Draw the dot at the new position
        if (myNormal){
        ctx.beginPath();
        ctx.arc(dotX, myY, 5,  0, Math.PI * 2);
        ctx.fillStyle = "black";
        ctx.fill();
        ctx.closePath();

        
        ctx.beginPath();
        ctx.arc(dotX+myChangeX, myY, 5,   0, Math.PI * 2);
        ctx.fillStyle = "black";
        ctx.fill();
        ctx.closePath();
        } else {

        
        ctx.beginPath();
        ctx.arc(myY, dotX, 5,  0, Math.PI * 2);
        ctx.fillStyle = "black";
        ctx.fill();
        ctx.closePath();
            
         ctx.beginPath();
        ctx.arc(myY, dotX+myChangeX, 5, 0, Math.PI * 2);
        ctx.fillStyle = "black";
        ctx.fill();
        ctx.closePath();      
        }
   
        // Move the dot to the left using async/await
        await new Promise((resolve) => setTimeout(resolve, 100)); // Simulated delay
        if (myNormal){
          dotX -= 2;
        } else {
          dotX += 2;    
        }

        // Repeat the animation
      //  if (dotX > 0) {
            requestAnimationFrame(moveDot);
      //  }
    }
</script>

<h6>Version 0.0.10</h6></h6>
<h2 align=center>Music Player from <a href="https://rocksetta.com/default.php">Rocksetta.com</a></h2>

<textarea id="myArea01" rows=6 cols=70 NOWRAP>
*_ '2__ *_ '4___ *_ '2___ '4__ *______---------- 7__ *__ '0__ *_ 9__ 7___ 9__ 4__ *_ *______
</textarea><br>



<input type="button" value="play Flip horizontal-rotate to vertical" onclick="{
    myNormal = false;
    document.getElementById('myImage01').src='mainsheet03flipped.png'
    mySong = document.getElementById('myArea01').value.split(' ')
    moveDot()
}">
<input type="button" value="play Normal" onclick="{
    myNormal = true;
    document.getElementById('myImage01').src='mainsheet03.png'
    mySong = document.getElementById('myArea01').value.split(' ')
    moveDot()
}">



</body>
</html>
